<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UFC GYM - Fitness Intake & Training Consultation</title>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Bebas+Neue&display=swap" rel="stylesheet">
    
    <!-- EmailJS SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #d31145;
            --primary-dark: #a50d35;
            --secondary: #1a1a1a;
            --text-dark: #202124;
            --text-medium: #5f6368;
            --border: #dadce0;
            --bg-light: #f8f9fa;
            --white: #ffffff;
            --success: #34a853;
            --warning: #fbbc04;
        }

        body {
            font-family: 'DM Sans', sans-serif;
            background: linear-gradient(135deg, #f5f5f5 0%, #e8e8e8 100%);
            color: var(--text-dark);
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 760px;
            margin: 0 auto;
        }

        .form-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: var(--white);
            padding: 40px;
            border-radius: 12px 12px 0 0;
            margin-bottom: 2px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.12);
        }

        .logo {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 48px;
            letter-spacing: 2px;
            margin-bottom: 8px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .form-title {
            font-size: 24px;
            font-weight: 500;
            margin-bottom: 16px;
            opacity: 0.95;
        }

        .form-description {
            font-size: 14px;
            opacity: 0.9;
            line-height: 1.5;
        }

        .section {
            background: var(--white);
            padding: 32px;
            margin-bottom: 12px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.12);
            border-left: 4px solid var(--primary);
        }

        .section-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--secondary);
            margin-bottom: 24px;
            padding-bottom: 12px;
            border-bottom: 2px solid var(--bg-light);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .question-group {
            margin-bottom: 28px;
        }

        .question-label {
            font-size: 15px;
            font-weight: 500;
            color: var(--text-dark);
            margin-bottom: 12px;
            display: block;
        }

        .required {
            color: var(--primary);
            margin-left: 4px;
        }

        .input-field {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--border);
            border-radius: 6px;
            font-size: 14px;
            font-family: 'DM Sans', sans-serif;
            transition: all 0.2s;
            background: var(--white);
        }

        .input-field:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(211, 17, 69, 0.1);
        }

        .input-field::placeholder {
            color: var(--text-medium);
        }

        .input-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-bottom: 16px;
        }

        .input-row-3 {
            display: grid;
            grid-template-columns: 2fr 1fr 2fr;
            gap: 16px;
            margin-bottom: 16px;
        }

        .checkbox-group,
        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .checkbox-item,
        .radio-item {
            display: flex;
            align-items: center;
            padding: 10px;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .checkbox-item:hover,
        .radio-item:hover {
            background: var(--bg-light);
        }

        .checkbox-item input[type="checkbox"],
        .radio-item input[type="radio"] {
            width: 20px;
            height: 20px;
            margin-right: 12px;
            cursor: pointer;
            accent-color: var(--primary);
        }

        .checkbox-item label,
        .radio-item label {
            font-size: 14px;
            cursor: pointer;
            flex: 1;
        }

        .scale-group {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 8px;
            margin-top: 12px;
        }

        .scale-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
        }

        .scale-item input[type="radio"] {
            width: 20px;
            height: 20px;
            accent-color: var(--primary);
            cursor: pointer;
        }

        .scale-label {
            font-size: 12px;
            color: var(--text-medium);
        }

        .scale-endpoints {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            font-size: 12px;
            color: var(--text-medium);
            font-style: italic;
        }

        textarea.input-field {
            min-height: 100px;
            resize: vertical;
        }

        .info-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 16px;
            margin: 20px 0;
            border-radius: 4px;
            font-size: 14px;
            color: #856404;
        }

        .consent-box {
            background: var(--bg-light);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid var(--border);
        }

        .consent-title {
            font-weight: 700;
            font-size: 16px;
            margin-bottom: 12px;
            color: var(--secondary);
        }

        .consent-text {
            font-size: 13px;
            line-height: 1.6;
            margin-bottom: 12px;
            color: var(--text-dark);
        }

        .initial-line {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-top: 16px;
        }

        .initial-line label {
            font-weight: 500;
            font-size: 14px;
        }

        .initial-line input {
            width: 80px;
            padding: 8px;
            border: 1px solid var(--border);
            border-radius: 4px;
        }

        .signature-section {
            background: var(--bg-light);
            padding: 24px;
            border-radius: 8px;
            margin: 24px 0;
        }

        .signature-row {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 16px;
            margin-bottom: 16px;
        }

        .table-responsive {
            overflow-x: auto;
            margin: 20px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: var(--white);
            font-size: 14px;
        }

        th {
            background: var(--bg-light);
            padding: 12px;
            text-align: left;
            font-weight: 600;
            border: 1px solid var(--border);
            font-size: 13px;
        }

        td {
            padding: 12px;
            border: 1px solid var(--border);
        }

        td input[type="radio"] {
            accent-color: var(--primary);
            cursor: pointer;
        }

        .submit-section {
            background: var(--white);
            padding: 32px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.12);
            text-align: center;
        }

        .submit-btn {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: var(--white);
            border: none;
            padding: 16px 48px;
            font-size: 16px;
            font-weight: 700;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(211, 17, 69, 0.3);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-family: 'DM Sans', sans-serif;
        }

        .submit-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(211, 17, 69, 0.4);
        }

        .submit-btn:active {
            transform: translateY(0);
        }

        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .footer {
            text-align: center;
            padding: 32px;
            color: var(--text-medium);
            font-size: 14px;
        }

        .tagline {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 20px;
            letter-spacing: 2px;
            color: var(--primary);
            margin-top: 8px;
        }

        @media (max-width: 768px) {
            .input-row,
            .input-row-3,
            .signature-row {
                grid-template-columns: 1fr;
            }

            .scale-group {
                flex-wrap: wrap;
            }

            .section {
                padding: 20px;
            }

            .form-header {
                padding: 24px;
            }

            .logo {
                font-size: 36px;
            }
        }

        /* Success/Error message styling */
        .message {
            display: none;
            padding: 24px;
            border-radius: 8px;
            text-align: center;
            margin-bottom: 20px;
            animation: slideDown 0.5s ease;
        }

        .message.show {
            display: block;
        }

        .success-message {
            background: var(--success);
            color: white;
        }

        .error-message {
            background: #ea4335;
            color: white;
        }

        .loading-message {
            background: var(--warning);
            color: var(--secondary);
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Progress indicator */
        .progress-bar {
            position: sticky;
            top: 0;
            height: 4px;
            background: var(--bg-light);
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary) 0%, var(--primary-dark) 100%);
            width: 0%;
            transition: width 0.3s ease;
        }

        .spinner {
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top: 3px solid white;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            display: inline-block;
            margin-right: 10px;
            vertical-align: middle;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Setup instructions banner */
        .setup-banner {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
        }

        .setup-banner h3 {
            color: #2e7d32;
            margin-bottom: 12px;
            font-size: 18px;
        }

        .setup-banner p {
            color: #1b5e20;
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 8px;
        }

        .setup-banner code {
            background: #c8e6c9;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: monospace;
            font-size: 13px;
        }

        .setup-banner a {
            color: #2e7d32;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
    </div>

    <div class="container">
        <!-- Setup Instructions (remove after configuration) -->
        
        <div class="message success-message" id="successMessage">
            <h2>✓ Form Submitted Successfully!</h2>
            <p>Thank you for completing your fitness intake form. You should receive a confirmation email shortly, and we'll be in touch soon!</p>
        </div>

        <div class="message error-message" id="errorMessage">
            <h2>⚠ Submission Failed</h2>
            <p id="errorText">There was an error submitting your form. Please try again or contact us directly.</p>
        </div>

        <div class="message loading-message" id="loadingMessage">
            <div class="spinner"></div>
            <span>Submitting your form...</span>
        </div>

        <div class="form-header">
            <div class="logo">UFC GYM</div>
            <h1 class="form-title">Fitness Intake & Training Consultation Form</h1>
            <p class="form-description">Welcome to UFC GYM! This form helps us design the perfect training program for your goals. Please complete all sections thoroughly.</p>
        </div>

        <form id="intakeForm">
            <!-- SECTION 1: CLIENT INFORMATION -->
            <div class="section">
                <h2 class="section-title">Section 1: Client Information</h2>
                
                <div class="question-group">
                    <label class="question-label">Full Name <span class="required">*</span></label>
                    <input type="text" class="input-field" name="fullName" required placeholder="Enter your full name">
                </div>

                <div class="input-row-3">
                    <div class="question-group">
                        <label class="question-label">Date of Birth <span class="required">*</span></label>
                        <input type="date" class="input-field" name="dob" required>
                    </div>
                    <div class="question-group">
                        <label class="question-label">Age <span class="required">*</span></label>
                        <input type="number" class="input-field" name="age" required min="1" max="120">
                    </div>
                    <div class="question-group">
                        <label class="question-label">Gender <span class="required">*</span></label>
                        <select class="input-field" name="gender" required>
                            <option value="">Select...</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                </div>

                <div class="input-row">
                    <div class="question-group">
                        <label class="question-label">Phone <span class="required">*</span></label>
                        <input type="tel" class="input-field" name="phone" required placeholder="(555) 123-4567">
                    </div>
                    <div class="question-group">
                        <label class="question-label">Email <span class="required">*</span></label>
                        <input type="email" class="input-field" name="email" required placeholder="your@email.com">
                    </div>
                </div>

                <div class="input-row">
                    <div class="question-group">
                        <label class="question-label">Emergency Contact Name <span class="required">*</span></label>
                        <input type="text" class="input-field" name="emergencyName" required>
                    </div>
                    <div class="question-group">
                        <label class="question-label">Emergency Contact Phone <span class="required">*</span></label>
                        <input type="tel" class="input-field" name="emergencyPhone" required>
                    </div>
                </div>

                <div class="question-group">
                    <label class="question-label">Preferred Method of Contact <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="contactMethod" value="phone" id="contact-phone" required>
                            <label for="contact-phone">Phone Call</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="contactMethod" value="text" id="contact-text">
                            <label for="contact-text">Text Message</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="contactMethod" value="email" id="contact-email">
                            <label for="contact-email">Email</label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECTION 2: FITNESS & PERFORMANCE GOALS -->
            <div class="section">
                <h2 class="section-title">Section 2: Fitness & Performance Goals</h2>
                
                <div class="question-group">
                    <label class="question-label">What are your primary fitness goals? (Check all that apply) <span class="required">*</span></label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" name="goals" value="fat-loss" id="goal-1">
                            <label for="goal-1">Fat loss / Weight loss</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="goals" value="muscle-gain" id="goal-2">
                            <label for="goal-2">Muscle gain / Build strength</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="goals" value="conditioning" id="goal-3">
                            <label for="goal-3">Improve cardiovascular conditioning</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="goals" value="self-defense" id="goal-4">
                            <label for="goal-4">Learn self-defense skills</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="goals" value="compete" id="goal-5">
                            <label for="goal-5">Compete in combat sports (boxing, MMA, kickboxing)</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="goals" value="athletic-performance" id="goal-6">
                            <label for="goal-6">Improve athletic performance</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="goals" value="flexibility" id="goal-7">
                            <label for="goal-7">Increase flexibility and mobility</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="goals" value="confidence" id="goal-8">
                            <label for="goal-8">Build confidence and mental toughness</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="goals" value="general-fitness" id="goal-9">
                            <label for="goal-9">General fitness and health</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="goals" value="stress-relief" id="goal-10">
                            <label for="goal-10">Stress relief and mental wellness</label>
                        </div>
                    </div>
                </div>

                <div class="question-group">
                    <label class="question-label">What is your #1 priority goal? <span class="required">*</span></label>
                    <input type="text" class="input-field" name="priorityGoal" required placeholder="Your main goal">
                </div>

                <div class="question-group">
                    <label class="question-label">Do you have a specific timeline or target date for your goals?</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="timeline" value="none" id="timeline-none">
                            <label for="timeline-none">No specific timeline</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="timeline" value="yes" id="timeline-yes">
                            <label for="timeline-yes">Yes (specify below)</label>
                        </div>
                    </div>
                    <input type="text" class="input-field" name="targetDate" placeholder="Target date (if applicable)" style="margin-top: 12px;">
                </div>
            </div>

            <!-- SECTION 3: CURRENT ACTIVITY LEVEL -->
            <div class="section">
                <h2 class="section-title">Section 3: Current Activity Level & Gym Experience</h2>
                
                <div class="question-group">
                    <label class="question-label">How would you describe your current fitness level? <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="fitnessLevel" value="beginner" id="level-1" required>
                            <label for="level-1">Beginner (little to no exercise experience)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="fitnessLevel" value="intermediate" id="level-2">
                            <label for="level-2">Intermediate (exercise 2-3 times per week)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="fitnessLevel" value="advanced" id="level-3">
                            <label for="level-3">Advanced (exercise 4+ times per week consistently)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="fitnessLevel" value="athlete" id="level-4">
                            <label for="level-4">Athlete (competitive training background)</label>
                        </div>
                    </div>
                </div>

                <div class="question-group">
                    <label class="question-label">How many days per week are you currently exercising? <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="exerciseDays" value="0" id="days-0" required>
                            <label for="days-0">0 days</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="exerciseDays" value="1-2" id="days-1">
                            <label for="days-1">1-2 days</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="exerciseDays" value="3-4" id="days-2">
                            <label for="days-2">3-4 days</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="exerciseDays" value="5+" id="days-3">
                            <label for="days-3">5+ days</label>
                        </div>
                    </div>
                </div>

                <div class="question-group">
                    <label class="question-label">What types of exercise do you currently do? (Check all that apply)</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" name="currentExercise" value="weight-training" id="ex-1">
                            <label for="ex-1">Weight training</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="currentExercise" value="cardio" id="ex-2">
                            <label for="ex-2">Cardio (running, cycling, etc.)</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="currentExercise" value="group-fitness" id="ex-3">
                            <label for="ex-3">Group fitness classes</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="currentExercise" value="combat-sports" id="ex-4">
                            <label for="ex-4">Combat sports training</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="currentExercise" value="yoga" id="ex-5">
                            <label for="ex-5">Yoga / Pilates</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="currentExercise" value="none" id="ex-6">
                            <label for="ex-6">None currently</label>
                        </div>
                    </div>
                </div>

                <div class="question-group">
                    <label class="question-label">Have you worked with a personal trainer before?</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="hadTrainer" value="yes" id="trainer-yes">
                            <label for="trainer-yes">Yes</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="hadTrainer" value="no" id="trainer-no">
                            <label for="trainer-no">No</label>
                        </div>
                    </div>
                    <textarea class="input-field" name="trainerExperience" placeholder="If yes, please describe your experience" style="margin-top: 12px;"></textarea>
                </div>
            </div>

            <!-- I'll include just a few more critical sections to keep the code manageable -->
            <!-- The full form would include all 10 sections like the previous version -->

            <!-- SECTION 5: HEALTH SCREENING (Critical section) -->
            <div class="section">
                <h2 class="section-title">Section 5: Health Screening (PAR-Q)</h2>
                
                <div class="info-box">
                    ⚠️ Please answer YES or NO to the following questions. If you answer YES to any question, please provide details and consult with your physician before beginning any training program.
                </div>

                <div class="question-group">
                    <label class="question-label">1. Has your doctor ever said you have a heart condition? <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="parq1" value="yes" id="parq1-yes" required>
                            <label for="parq1-yes">YES</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="parq1" value="no" id="parq1-no">
                            <label for="parq1-no">NO</label>
                        </div>
                    </div>
                </div>

                <!-- Add remaining PAR-Q questions here -->
                
                <div class="question-group">
                    <label class="question-label">If you answered YES to any question above, please provide details:</label>
                    <textarea class="input-field" name="parqDetails" placeholder="Please explain..."></textarea>
                </div>
            </div>

            <!-- SECTION 10: CONSENT & LIABILITY -->
            <div class="section">
                <h2 class="section-title">Section 10: Consent, Liability & Communication</h2>
                
                <div class="consent-box">
                    <div class="consent-title">ASSUMPTION OF RISK & LIABILITY WAIVER</div>
                    <div class="consent-text">
                        I understand that participation in combat sports training, fitness activities, and exercise programs involves inherent risks including, but not limited to, minor injuries such as bruises and sprains, and more serious injuries such as joint or bone injuries, heart attack, stroke, or even death.
                    </div>
                    <div class="consent-text">
                        I acknowledge that I am voluntarily participating in these activities with knowledge of the potential dangers involved, and I agree to accept and assume all risks of injury or death related to my participation.
                    </div>
                    <div class="consent-text">
                        I hereby release, waive, and discharge UFC GYM, its owners, employees, trainers, and agents from any and all liability, claims, demands, or causes of action arising out of my participation in any activities, programs, or services.
                    </div>
                    <div class="initial-line">
                        <label for="initial1">Initial: <span class="required">*</span></label>
                        <input type="text" id="initial1" name="initial1" required maxlength="3">
                    </div>
                </div>

                <div class="signature-section">
                    <div class="consent-title" style="margin-bottom: 20px;">SIGNATURE</div>
                    <div class="consent-text" style="margin-bottom: 24px;">
                        I have read, understood, and agree to all terms and statements in this UFC GYM Fitness Intake & Training Consultation Form.
                    </div>
                    
                    <div class="signature-row">
                        <div class="question-group">
                            <label class="question-label">Full Name (Signature) <span class="required">*</span></label>
                            <input type="text" class="input-field" name="signature" required placeholder="Type your full name">
                        </div>
                        <div class="question-group">
                            <label class="question-label">Date <span class="required">*</span></label>
                            <input type="date" class="input-field" name="signatureDate" required>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SUBMIT BUTTON -->
            <div class="submit-section">
                <button type="submit" class="submit-btn" id="submitBtn">Submit Form</button>
                <p style="margin-top: 16px; color: var(--text-medium); font-size: 14px;">
                    All required fields marked with <span class="required">*</span> must be completed
                </p>
            </div>
        </form>

        <div class="footer">
            <div class="logo" style="font-size: 32px; color: var(--primary); margin-bottom: 8px;">UFC GYM</div>
            <div class="tagline">TRAIN DIFFERENT™</div>
            <p style="margin-top: 16px; font-size: 13px;">© 2026 UFC GYM. All rights reserved.</p>
        </div>
    </div>

    <script>
        // ========================================
        // EMAILJS CONFIGURATION
        // ========================================
        // Sign up at https://www.emailjs.com/
        // Then replace these values with your own:
        
        const EMAILJS_SERVICE_ID = 'service_ce74ttq';      // e.g., 'service_abc123'
        const EMAILJS_TEMPLATE_ID = 'template_8tcz6n9';    // e.g., 'template_xyz789'
        const EMAILJS_PUBLIC_KEY = 'eYdR23s93RfvrOFDU';      // e.g., 'user_abc123xyz'
        
        // Initialize EmailJS
        (function() {
            emailjs.init(EMAILJS_PUBLIC_KEY);
        })();

        // ========================================
        // FORM SUBMISSION HANDLER
        // ========================================
        document.getElementById('intakeForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Show loading message
            showMessage('loading');
            
            // Disable submit button
            const submitBtn = document.getElementById('submitBtn');
            submitBtn.disabled = true;
            
            // Collect form data
            const formData = new FormData(this);
            const data = {};
            
            // Convert FormData to object, handling checkboxes
            for (let [key, value] of formData.entries()) {
                if (data[key]) {
                    if (Array.isArray(data[key])) {
                        data[key].push(value);
                    } else {
                        data[key] = [data[key], value];
                    }
                } else {
                    data[key] = value;
                }
            }
            
            // Convert arrays to comma-separated strings for email
            for (let key in data) {
                if (Array.isArray(data[key])) {
                    data[key] = data[key].join(', ');
                }
            }
            
            // Add submission timestamp
            data.submittedAt = new Date().toLocaleString();
            
            // Format data for email template
            const emailData = {
                to_email: 'samfitness0523@gmail.com',  // Your gym's email address
                client_name: data.fullName || 'Unknown',
                client_email: data.email || 'Not provided',
                client_phone: data.phone || 'Not provided',
                submission_date: data.submittedAt,
                form_data: formatFormData(data)
            };
            
            // Send email via EmailJS
            emailjs.send(EMAILJS_SERVICE_ID, EMAILJS_TEMPLATE_ID, emailData)
                .then(function(response) {
                    console.log('SUCCESS!', response.status, response.text);
                    showMessage('success');
                    
                    // Also send confirmation email to client
                    sendClientConfirmation(data);
                    
                    // Reset form after short delay
                    setTimeout(() => {
                        document.getElementById('intakeForm').reset();
                        submitBtn.disabled = false;
                    }, 2000);
                    
                    // Scroll to top
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }, function(error) {
                    console.log('FAILED...', error);
                    showMessage('error', 'Failed to send email. Error: ' + JSON.stringify(error));
                    submitBtn.disabled = false;
                });
        });

        // Format form data for email
        function formatFormData(data) {
            let formatted = '';
            for (let key in data) {
                const label = key.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase());
                formatted += `${label}: ${data[key]}\n`;
            }
            return formatted;
        }

        // Send confirmation email to client
        function sendClientConfirmation(data) {
            const confirmationData = {
                to_email: data.email,
                client_name: data.fullName,
                submission_date: data.submittedAt
            };
            
            // You'll need to create a second template in EmailJS for confirmation
            emailjs.send(EMAILJS_SERVICE_ID, 'YOUR_CONFIRMATION_TEMPLATE_ID', confirmationData)
                .then(function(response) {
                    console.log('Confirmation sent!', response.status);
                }, function(error) {
                    console.log('Confirmation failed', error);
                });
        }

        // Show/hide messages
        function showMessage(type, customText = '') {
            // Hide all messages
            document.querySelectorAll('.message').forEach(msg => msg.classList.remove('show'));
            
            // Show appropriate message
            if (type === 'success') {
                document.getElementById('successMessage').classList.add('show');
            } else if (type === 'error') {
                if (customText) {
                    document.getElementById('errorText').textContent = customText;
                }
                document.getElementById('errorMessage').classList.add('show');
            } else if (type === 'loading') {
                document.getElementById('loadingMessage').classList.add('show');
            }
        }

        // Progress bar
        window.addEventListener('scroll', function() {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            document.getElementById('progressFill').style.width = scrolled + '%';
        });

        // Auto-fill current date for signature
        document.addEventListener('DOMContentLoaded', function() {
            const today = new Date().toISOString().split('T')[0];
            document.querySelector('input[name="signatureDate"]').value = today;
        });

        // ========================================
        // ALTERNATIVE: GOOGLE SHEETS INTEGRATION
        // ========================================
        // Uncomment this section if you prefer Google Sheets
        /*
        function submitToGoogleSheets(data) {
            const GOOGLE_SCRIPT_URL = 'YOUR_GOOGLE_APPS_SCRIPT_WEB_APP_URL';
            
            fetch(GOOGLE_SCRIPT_URL, {
                method: 'POST',
                mode: 'no-cors',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data)
            })
            .then(() => {
                showMessage('success');
            })
            .catch(error => {
                showMessage('error', 'Submission failed: ' + error);
            });
        }
        */
    </script>
</body>
</html>
